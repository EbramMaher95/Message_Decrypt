#ifdef _MSC_VER
#pragma warning(push)
#pragma warning(disable : 4996)
#endif

#include <stdio.h>
#include <stdlib.h>
#include <string.h>

//decryption function definition
void Decrypt(char str[], int MessageLength,char key[], int keyLength);


int main()
{
	char str[] = { 0x18,0x07,0x0a,0x4b,0x6c,0x00,0x1c,0x44,0x4d,0x2c,0x53,0x41,
		0x03,0x1d,0x00,0x32,0x06,0x16,0x16,0x15,0x1a,0x49,0x52,0x28,0x3b,0x1a,
		0x01,0x00,0x21,0x16,0x52,0x23,0x4f,0x2d,0x5d,0x00,0x2a,0x10,0x56,0x36,
		0x48,0x09,0x08,0x17,0x00,0x11,0x52,0x10,0x3b,0x48,0x08,0x59,0x6c,0x0a,
		0x0b,0x01,0x53,0x67,0x73,0x20,0x6d,0x79,0x20,0x53,0x68,0x65,0x61,0x70,
		0x68,0x65,0x72,0x64,0x54,0x68,0x65,0x20,0x4c,0x6f,0x72,0x64,0x20,0x49,
		0x73,0x20,0x6d,0x79,0x20,0x53,0x68,0x65,0x61,0x70,0x68,0x65,0x72,0x64,
		0x54,0x68,0x65,0x20,0x4c,0x6f,0x72,0x64,0x20,0x49,0x73,0x20,0x6d,0x79,
		0x20,0x53,0x68,0x65,0x61,0x70,0x68,0x65,0x72,0x64,0x54,0x68,0x65,0x20,
		0x4c,0x6f,0x72,0x64 };

	char key[] = "The Lord Is my Sheapherd";

	int key_length = 24;

	int msglength;

	msglength = sizeof(str) / sizeof(char);

	Decrypt(str, msglength,key, key_length);

	return 0;
}

//decryption function definition
void Decrypt(char str[], int MessageLength, char key[], int keyLength)
{

	int i, keyIndex;

	for (i = 0; i < MessageLength; i++)
	{
		keyIndex = i % keyLength;

		str[i] = str[i] ^ key[keyIndex];
	}

	printf("The original message is:\n%s\n\n", str);
}

#ifdef _MSC_VER
#pragma warning(pop)
#endif